#!/usr/bin/env ruby
require 'optparse'

require 'rubygems'

$: << File.expand_path('../../lib', __FILE__)
require 'thick'

options = {}

OptionParser.new do |opts|

  opts.banner = 'Usage: thick [options]'

  opts.separator ''
  opts.separator 'Ruby options:'

  opts.separator ''
  opts.separator 'Rack options:'

  opts.on('-o', '--host HOST', 'listen on HOST (default: 0.0.0.0)') do |host|
    options[:address] = host
  end

  opts.on('-p', '--port PORT', 'use PORT (default: 9292)') do |port|
    options[:port] = Integer(port)
  end

  opts.on('-E', '--env ENVIRONMENT', 'use ENVIRONMENT for defaults (default: development)') do |e|
    options[:environment] = e
  end

  opts.on('-R', '--reloader', 'enables automatic reloading of application') do |e|
    options[:reloader] = e
  end

  opts.on('-C', '--controller', 'starts controller for remote monitoring and management') do |e|
    options[:controller] = e
  end

end.parse!

Thick.start(options)